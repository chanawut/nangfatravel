<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover" />
    <title>ราคาทัวร์ลาว นางฟ้าทราเวล</title>
    <link rel="stylesheet" type="text/css" href="styles/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="styles/style.css">
    
    <link rel="stylesheet" type="text/css" href="fonts/css/fontawesome-all.min.css">
    <link rel="manifest" href="_manifest.json" data-pwa-version="set_in_manifest_and_pwa_js">
    <link rel="apple-touch-icon" sizes="180x180" href="app/icons/icon-192x192.png">

    <link rel="stylesheet" type="text/css" href="styles/calendar.css">

    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
     <script type="text/javascript" src="scripts/date-swap-th-en-th.js"></script>

</head>

<body class="theme-light">

    <div id="preloader">
        <div class="spinner-border color-highlight" role="status"></div>
    </div>

    <div id="page">

        <div class="header header-fixed header-logo-center header-auto-show">
            <a href="index.html" class="header-title">กดจอง เลือกวันเดินทาง</a>
            <a href="#" data-back-button class="header-icon header-icon-1"><i class="fas fa-chevron-left"></i></a>
            <a href="#" data-menu="menu-main" class="header-icon header-icon-4"><i class="fas fa-bars"></i></a>
            <a href="#" data-toggle-theme class="header-icon header-icon-3 show-on-theme-dark"><i
                    class="fas fa-sun"></i></a>
            <a href="#" data-toggle-theme class="header-icon header-icon-3 show-on-theme-light"><i
                    class="fas fa-moon"></i></a>
        </div>

        <div id="footer-bar" class="footer-bar-6">
            <a href="index-components.html"><i class="fa fa-layer-group"></i><span>Features</span></a>
            <a href="index-pages.html" class="active-nav"><i class="fa fa-file"></i><span>Pages</span></a>
            <a href="index.html" class="circle-nav"><i class="fa fa-home"></i><span>Welcome</span></a>
            <a href="index-projects.html"><i class="fa fa-camera"></i><span>Projects</span></a>
            <a href="#" data-menu="menu-main"><i class="fa fa-bars"></i><span>Menu</span></a>
        </div>

        <div class="page-title page-title-fixed">
            <h1 class="font-22">จองแผนการเดินทาง</h1>
            <a href="#" class="page-title-icon shadow-xl bg-theme color-theme" data-menu="menu-share"><i
                    class="fa fa-share-alt"></i></a>
            <a href="#" class="page-title-icon shadow-xl bg-theme color-theme show-on-theme-light" data-toggle-theme><i
                    class="fa fa-moon"></i></a>
            <a href="#" class="page-title-icon shadow-xl bg-theme color-theme show-on-theme-dark" data-toggle-theme><i
                    class="fa fa-lightbulb color-yellow-dark"></i></a>
            <a href="#" class="page-title-icon shadow-xl bg-theme color-theme" data-menu="menu-main"><i
                    class="fa fa-bars"></i></a>
        </div>
        <div class="page-title-clear"></div>


        <!-- /////////////////////  Script start here  //////////////////// -->
        <script>
            var _sku , _selectedDate, p1, p2, p3, p4;

            // หลังจากกดปุ่ม "จอง" ให้เก็บ sku ไว้ทำใบเสนอราคา พร้อมกับ fire calendar ไว้รอ onSelect
            function bookThisPlan(sku) {
                _sku = sku;
                
                // fire this calendar first for INLINE mode
                $(function () {
                    $("#datepicker").datepicker({
                        dateFormat: "dd-M-yy",
                        prevText: "<", nextText: ">", currentText: "วันนี้", monthNames: ["มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["อา", "จ", "อ", "พ", "พฤ", "ศ", "ส"], weekHeader: "Wk", firstDay: 0,
                        onSelect: function () {
                            _selectedDate = $(this).val();
                            console.log(_selectedDate);
                        }
                    });
                });
            }

            function createQuotation() {
                // หากกดตกลงเลย(ไม่กดเลือกวันที่)  จะกำหนดค่า วันนี้ ให้อัตโนมัติ 
                _selectedDate = (_selectedDate === undefined) ? changeEnDateFormat(new Date()) : _selectedDate

                // ก่อน redirect ให้เก็บ selectedDate
                localStorage.setItem('startDate', _selectedDate);
                

                // ส่ง sku , selectedDate ไปสร้างใบเสนอราคา
                window.location.href = `page-tour-quotation.html?sku=${_sku}&selectedDate=${_selectedDate}`
            }

            function collectCoupon() {
                let priceUri = "page-subscriptions-2.html";
                window.location.href = priceUri;
            }

        </script>

        <!-- /////////////////////  Content start here  //////////////////// -->
        <div class="page-content">

            <!-- sections to be injected -->
            <div id="card_render_section"></div>
            <div id="p1_render_section"></div>
            <div id="p2_render_section"></div>
            <div id="p3_render_section"></div>
            <div id="p4_render_section"></div>
            <div id="p5_render_section"></div>

            <div data-menu-load="menu-footer.html"></div>
        </div>


        <!-- /////////////////////  Fetch: start  //////////////////// -->
        <script>
            fetch(LA_P_MODEL)
                .then(res => res.json())
                .then(data => {
                    // 1) get url query parameters
                    // const queryString = window.location.search;
                    // const urlParams = new URLSearchParams(queryString);
                    const _program = 'VT201'//urlParams.get('program');
                    const _pax = 10 //parseInt(urlParams.get('pax'));
                    const _pickup = 'UU' //urlParams.get('pickup')

                    // 2) to serch an object
                    console.log("/// tourcode , tripcode, pax");
                    const priceList = data.filter(e => e.tourcode === _program && e.tripcode === _pickup && e.pax === _pax && e.status === 'active');
                    console.log(Object.keys(priceList).length);
                    console.log(priceList);

                    // 3) and separate each price package [p1: basic , p2: hotel , p3: hotel+meal , p4: hotel+meal+guide]
                    p1 = priceList.filter(e => e.hotel === 0 && e.meal === 0 && e.guide === 0);
                    p2 = priceList.filter(e => e.hotel > 0 && e.meal === 0 && e.guide === 0);
                    p3 = priceList.filter(e => e.hotel > 0 && e.meal > 0 && e.guide === 0);
                    p4 = priceList.filter(e => e.hotel > 0 && e.meal > 0 && e.guide > 0);

                    // 4) then start render a card section                                
                    document.getElementById('card_render_section').innerHTML = `
                                    <div class="card card-style  bg-1" data-card-height="200">
                                        <div class="card-top ml-2 mt-2">
                                            <label class="ml-0 font-13 font-500 shadow-xl rounded-xl border-red-dark color-theme bg-theme">
                                                &nbsp;&nbsp;&nbsp;<i class="fas fa-street-view"></i> &nbsp;รับส่งที่
                                                ${p4[0].start}
                                                &nbsp;&nbsp;&nbsp;
                                            </label>
                                        </div>
                                        <div class="card-center text-center">
                                            <h4 class="color-white font-22 font-600 ml-3 mr-3">
                                                ${p4[0].name}
                                                <span class="ml-2 font-15 badge bg-white color-highlight">
                                                    ${p4[0].tourcode}
                                                </span>
                                            </h4>
                                        </div>
                                        <div class="card-bottom text-right">
                                            <label class="ml-0 mr-3 font-13 font-500 shadow-xl rounded-xl border-red-dark color-theme bg-theme scale-box">
                                                &nbsp;&nbsp;&nbsp;<i class="fas fa-tag"></i> &nbsp;กรุ๊ปส่วนตัว <span id="_pax_show">
                                                ${p4[0].pax} </span>
                                                ท่าน
                                                &nbsp;&nbsp;&nbsp;
                                            </label>
                                            <p class="color-white mb-1 mr-3 font-13">
                                                เดินทางใช้: ${p4[0].required}
                                            </p>
                                        </div>
                                        <div class="card-overlay bg-gradient"></div>
                                    </div>
                                `;

                    // 5) after that render all price sections        
                    switch (Object.keys(priceList).length) {
                        // 5.1) if there are 4 array objects that means the pax is 1-12 persons 
                        //      หากมี 4 แผนราคา (แปลว่าเลือก 1-12 pax)
                        case 4: {
                            // _p1 : Basic Package section
                            document.getElementById('p1_render_section').innerHTML = `
                                <div class="card card-style check-card mb-2">
                                    <div class="content">
                                        <div class="d-flex">
                                            <div class="ml-2 mr-1" id="basic">
                                                <h4 class="ml-n2 mt-n2 mb-3 font-400"><i class="icon-check-1 fa fa-circle font-12"></i>
                                                    &nbsp;แผนปกติ</h4>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-bus "></i> &nbsp;รถ+น้ำมัน+คนขับนำเที่ยว&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-door-open"></i> &nbsp;ค่าด่าน&nbsp;<sup
                                                        class="opacity-80 color-white">[1]</sup>&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-user-shield"></i> &nbsp;ประกัน&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-camera-retro"></i>
                                                    &nbsp;ค่าเข้าชมสถานที่ท่องเที่ยว&nbsp;&nbsp;
                                                </label>
                                            </div>
                                            <div class="ml-auto">
                                                <h4 class="opacity-50 font-13 font-500 text-right mt-n2 mb-1 color-red-dark">จาก &nbsp;
                                                    <span style="text-decoration: line-through;">${String(p1[0].maxprice).replace(/(.)(?=(\d{3})+$)/g, '$1,')} บาท</span></h4>
                                                <button href="#" onclick="bookThisPlan('${p1[0].sku}');return false;" data-menu="select-booking"
                                                    class="btn btn-border font-500 shadow-xl rounded-xs border-red-dark color-red-dark bg-theme scale-box">
                                                    <h3 class="mb-1 font-24 font-700">${String(p1[0].price).replace(/(.)(?=(\d{3})+$)/g, '$1,')}</h3>
                                                    <p class="mb-1 opacity-80 font-11 text-right">บาท/ท่าน</p>
                                                    <label
                                                        class="btn btn-3d btn-full mb-0 rounded-xs text-uppercase font-30 font-400 shadow-s border-red-dark bg-red-light">
                                                        จอง<p class="font-9 font-400 color-white">แผนปกติ</p>
                                                    </label>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[1]</sup>
                                                ลาวเก็บค่าวีซ่าเพิ่มในบางสัญชาตินะคะ
                                                (ส่วนคนไทยฟรีค่ะ) </p>
                                        <div class="divider mt-4 mb-n1"></div>
                                        <div class="d-flex mt-2 text-center">
                                            <div class="ml-3 mr-1 mt-2 mb-n1" id="discount">
                                                <p class="color-magenta-dark font-12 font-700"><i class="fas fa-gift font-18"></i> &nbsp; พิเศษ! คูปอง&nbsp;
                                                        ${p1[0].promotion} 
                                                    <span>&nbsp;&nbsp;
                                                        <button href="#" onclick="collectCoupon('${p1[0].sku}');return false;" data-menu="select-date"
                                                                class="btn btn-border font-19 font-500 shadow-xl rounded-xs border-grey-dark bg-magenta-dark scale-box"> 
                                                                เก็บคูปอง ${String(p1[0].discount).replace(/(.)(?=(\d{3})+$)/g, '$1,')}.- (คลิก) <sup><i class="fas fa-ticket-alt"></i></sup>
                                                        </button>    
                                                    </span>
                                                </p> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                `;

                            // _p2 : Hotel Package
                            document.getElementById('p2_render_section').innerHTML = `
                                <div class="card card-style check-card mb-2">
                                    <div class="content">
                                        <div class="d-flex">
                                            <div class="ml-2 mr-1">
                                                <h4 class="ml-n2 mt-n2 mb-3 font-400"><i class="icon-check-1 fa fa-circle font-12"></i>
                                                    &nbsp;แผนปกติ + ที่พัก</h4>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bus "></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-door-open"></i> <sup class="opacity-80 color-white">[1]</sup>&nbsp;+&nbsp;
                                                    <i class="fas fa-user-shield"></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-camera-retro"></i>
                                                    &nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bed"></i> &nbsp;&nbsp;รวมที่พัก ${p2[0].hotel} คืน &nbsp;<sup
                                                        class="opacity-70 color-black opacity-70">[2]</sup>
                                                    &nbsp;
                                                </label>
                                            </div>
                                            <div class="ml-auto">
                                                <button href="#" onclick="bookThisPlan('${p2[0].sku}');return false;" data-menu="select-booking"
                                                    class="btn btn-border font-500 shadow-xl rounded-xs border-red-dark color-red-dark bg-theme scale-box">
                                                    <h3 class="mb-1 font-24 font-700">${String(p2[0].price).replace(/(.)(?=(\d{3})+$)/g, '$1,')}</h3>
                                                    <p class="mb-1 opacity-80 font-11 text-right">บาท/ท่าน</p>
                                                    <label
                                                        class="btn btn-3d btn-full mb-0 rounded-xs text-uppercase font-30 font-400 shadow-s border-red-dark bg-red-light">
                                                        จอง<p class="font-9 font-400 color-white">รวมที่พัก</p>
                                                    </label>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[1]</sup>
                                                ลาวเก็บค่าวีซ่าเพิ่มในบางสัญชาตินะคะ
                                                (ส่วนคนไทยฟรีค่ะ) </p>
                                            <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[2]</sup> ที่พัก 3 ดาว นอน 2
                                                ท่าน/ห้อง พักเดี่ยวเพิ่ม ${String(p2[0].hotel * 1000).replace(/(.)(?=(\d{3})+$)/g, '$1,')} บาท </p>
                                        <div class="divider mt-4 mb-n1"></div>
                                        <div class="d-flex mt-2 text-center">
                                            <div class="ml-3 mr-1 mt-2 mb-n1" id="discount">
                                                <p class="color-magenta-dark font-12 font-700"><i class="fas fa-gift font-18"></i> &nbsp; พิเศษ! คูปอง&nbsp;
                                                        ${p2[0].promotion} 
                                                    <span>&nbsp;&nbsp;
                                                        <button href="#" onclick="collectCoupon('${p2[0].sku}');return false;" data-menu="select-date"
                                                                class="btn btn-border font-19 font-500 shadow-xl rounded-xs border-grey-dark bg-magenta-dark scale-box"> 
                                                                เก็บคูปอง ${String(p2[0].discount).replace(/(.)(?=(\d{3})+$)/g, '$1,')}.- (คลิก) <sup><i class="fas fa-ticket-alt"></i></sup>
                                                        </button>    
                                                    </span>
                                                </p> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                `;
                            // _p3 : Hotel + Meal Package
                            document.getElementById('p3_render_section').innerHTML = `
                                <div class="card card-style check-card mb-2">
                                    <div class="content">
                                        <div class="d-flex">
                                            <div class="ml-2 mr-1">
                                                <h4 class="ml-n2 mt-n2 mb-3 font-400"><i class="icon-check-1 fa fa-circle font-12"></i>
                                                    &nbsp;แผนปกติ + ที่พัก + อาหาร</h4>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bus "></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-door-open"></i> <sup class="opacity-80 color-white">[1]</sup>&nbsp;+&nbsp;
                                                    <i class="fas fa-user-shield"></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-camera-retro"></i>
                                                    &nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bed"></i> &nbsp;&nbsp;รวมที่พัก ${p3[0].hotel} คืน &nbsp;<sup
                                                        class="opacity-70 color-black opacity-70">[2]</sup>
                                                    &nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-utensils"></i> &nbsp;&nbsp;รวมอาหาร ${p3[0].meal} มื้อ &nbsp;
                                                    &nbsp;
                                                </label>
                                            </div>
                                            <div class="ml-auto">
                                                <button href="#" onclick="bookThisPlan('${p3[0].sku}');return false;" data-menu="select-booking"
                                                    class="btn btn-border font-500 shadow-xl rounded-xs border-red-dark color-red-dark bg-theme scale-box">
                                                    <h3 class="mb-1 font-24 font-700">${String(p3[0].price).replace(/(.)(?=(\d{3})+$)/g, '$1,')}</h3>
                                                    <p class="mb-1 opacity-80 font-11 text-right">บาท/ท่าน</p>
                                                    <label
                                                        class="btn btn-3d btn-full mb-0 rounded-xs text-uppercase font-30 font-400 shadow-s border-red-dark bg-red-light">
                                                        จอง<p class="font-9 font-400 color-white">รวมที่พัก อาหาร</p>
                                                    </label>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[1]</sup>
                                                ลาวเก็บค่าวีซ่าเพิ่มในบางสัญชาตินะคะ
                                                (ส่วนคนไทยฟรีค่ะ) </p>
                                            <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[2]</sup> ที่พัก 3 ดาว นอน 2
                                                ท่าน/ห้อง พักเดี่ยวเพิ่ม ${String(p3[0].hotel * 1000).replace(/(.)(?=(\d{3})+$)/g, '$1,')} บาท </p>
                                        <div class="divider mt-4 mb-n1"></div>
                                        <div class="d-flex mt-2 text-center">
                                            <div class="ml-3 mr-1 mt-2 mb-n1" id="discount">
                                                <p class="color-magenta-dark font-12 font-700"><i class="fas fa-gift font-18"></i> &nbsp; พิเศษ! คูปอง&nbsp;
                                                        ${p3[0].promotion} 
                                                    <span>&nbsp;&nbsp;
                                                        <button href="#" onclick="collectCoupon('${p3[0].sku}');return false;" data-menu="select-date"
                                                                class="btn btn-border font-19 font-500 shadow-xl rounded-xs border-grey-dark bg-magenta-dark scale-box"> 
                                                                เก็บคูปอง ${String(p3[0].discount).replace(/(.)(?=(\d{3})+$)/g, '$1,')}.- (คลิก) <sup><i class="fas fa-ticket-alt"></i></sup>
                                                        </button>    
                                                    </span>
                                                </p> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                `;
                            // _p4 : Full Package
                            document.getElementById('p4_render_section').innerHTML = `
                                <div class="card card-style check-card mb-2">
                                    <div class="content">
                                        <div class="d-flex">
                                            <div class="ml-2 mr-1">
                                                <h4 class="ml-n2 mt-n2 mb-3 mr-3 font-400"><i class="icon-check-1 fa fa-circle font-12"></i>
                                                    &nbsp;แผนปกติ + ที่พัก<br><span class="ml-2"> + อาหาร + ไกด์</span></h4>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bus "></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-door-open"></i> <sup class="opacity-80 color-white">[1]</sup>&nbsp;+&nbsp;
                                                    <i class="fas fa-user-shield"></i> &nbsp;+&nbsp;
                                                    <i class="fas fa-camera-retro"></i>
                                                    &nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bed"></i> &nbsp;&nbsp;รวมที่พัก ${p4[0].hotel} คืน &nbsp;<sup
                                                        class="opacity-70 color-black opacity-70">[2]</sup>
                                                    &nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-utensils"></i> &nbsp;&nbsp;รวมอาหาร ${p4[0].meal} มื้อ &nbsp;
                                                    &nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-microphone-alt"></i> &nbsp;&nbsp;รวมไกด์บรรยายไทย &nbsp;
                                                    &nbsp;
                                                </label>
                                            </div>
                                            <div class="ml-auto">
                                                <button href="#" onclick="bookThisPlan('${p4[0].sku}');return false;" data-menu="select-booking"
                                                    class="btn btn-border font-500 shadow-xl rounded-xs border-red-dark color-red-dark bg-theme scale-box">
                                                    <h3 class="mb-1 font-24 font-700">${String(p4[0].price).replace(/(.)(?=(\d{3})+$)/g, '$1,')}</h3>
                                                    <p class="mb-1 opacity-80 font-11 text-right">บาท/ท่าน</p>
                                                    <label
                                                        class="btn btn-3d btn-full mb-0 rounded-xs text-uppercase font-30 font-400 shadow-s border-red-dark bg-red-light">
                                                        จอง<p class="font-9 font-400 color-white">รวมที่พัก อาหาร ไกด์</p>
                                                    </label>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[1]</sup>
                                                ลาวเก็บค่าวีซ่าเพิ่มในบางสัญชาตินะคะ
                                                (ส่วนคนไทยฟรีค่ะ) </p>
                                            <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[2]</sup> ที่พัก 3 ดาว นอน 2
                                                ท่าน/ห้อง พักเดี่ยวเพิ่ม ${String(p4[0].hotel * 1000).replace(/(.)(?=(\d{3})+$)/g, '$1,')} บาท </p>
                                        <div class="divider mt-4 mb-n1"></div>
                                        <div class="d-flex mt-2 text-center">
                                            <div class="ml-3 mr-1 mt-2 mb-n1" id="discount">
                                                <p class="color-magenta-dark font-12 font-700"><i class="fas fa-gift font-18"></i> &nbsp; พิเศษ! คูปอง&nbsp;
                                                        ${p4[0].promotion} 
                                                    <span>&nbsp;&nbsp;
                                                        <button href="#" onclick="collectCoupon('${p4[0].sku}');return false;" data-menu="select-date"
                                                                class="btn btn-border font-19 font-500 shadow-xl rounded-xs border-grey-dark bg-magenta-dark scale-box"> 
                                                                เก็บคูปอง ${String(p4[0].discount).replace(/(.)(?=(\d{3})+$)/g, '$1,')}.- (คลิก) <sup><i class="fas fa-ticket-alt"></i></sup>
                                                        </button>    
                                                    </span>
                                                </p> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                `;
                            break;
                        }

                        // 5.2) if there's only 1 array object, that means the pax are 13, 26, or 35 persons
                        // หากมีแค่ 1 แผนราคา (แปลว่าเลือก 13, 26, 35 pax)
                        case 1: {
                            // _p5 : Full Package 
                            // change the display
                            let showPax = pax => pax === 13 ? "13-25"
                                : pax === 26 ? "26-34"
                                    : pax === 35 ? "ตั้งแต่ 35"
                                        : pax
                            // change no of pax in card first
                            document.getElementById('_pax_show').innerHTML = showPax(p4[0].pax);

                            // render price
                            document.getElementById('p5_render_section').innerHTML = `
                                <div class="card card-style check-card mb-2">
                                    <div class="content">
                                        <div class="d-flex">
                                            <div class="ml-2 mr-1">
                                                <h4 class="ml-n2 mt-n2 mb-3 mr-3 font-400"><i class="icon-check-1 fa fa-circle font-12"></i>
                                                    &nbsp;พรีเมี่ยมแพคเกจ</h4>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-bus "></i> &nbsp;รถ+น้ำมัน+คนขับ&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-door-open"></i> &nbsp;ค่าด่าน&nbsp;<sup
                                                        class="opacity-80 color-white">[1]</sup>&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-user-shield"></i> &nbsp;ประกัน&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-cookie-bite"></i> &nbsp;น้ำดื่ม+ลูกอม&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-300 shadow-xl rounded-s bg-highlight">
                                                    &nbsp;&nbsp;<i class="fas fa-camera-retro"></i>
                                                    &nbsp;ค่าเข้าชมสถานที่ท่องเที่ยว&nbsp;&nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-bed"></i> &nbsp;&nbsp;รวมที่พัก ${p4[0].hotel} คืน &nbsp;<sup
                                                        class="opacity-70 color-black opacity-70">[2]</sup>
                                                    &nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-utensils"></i> &nbsp;&nbsp;รวมอาหาร ${p4[0].meal} มื้อ &nbsp;
                                                    &nbsp;
                                                </label>
                                                <label class="ml-0 mb-1 font-14 font-400 shadow-xl rounded-s color-black bg-yellow-dark">
                                                    &nbsp;&nbsp;
                                                    <i class="fas fa-microphone-alt"></i> &nbsp;&nbsp;รวมไกด์บรรยายไทย &nbsp;
                                                    &nbsp;
                                                </label>
                                            </div>
                                            <div class="ml-auto">
                                                <button href="#" onclick="bookThisPlan('${p4[0].sku}');return false;" data-menu="select-booking"
                                                    class="btn btn-border font-500 shadow-xl rounded-xs border-red-dark color-red-dark bg-theme scale-box">
                                                    <h3 class="mb-1 font-24 font-700">${String(p4[0].price).replace(/(.)(?=(\d{3})+$)/g, '$1,')}</h3>
                                                    <p class="mb-1 opacity-80 font-11 text-right">บาท/ท่าน</p>
                                                    <label class="btn btn-3d btn-full mb-0 rounded-xs text-uppercase font-30 font-400 shadow-s border-red-dark bg-red-light">
                                                        จอง<p class="font-9 font-400 color-white">รวมที่พัก อาหาร ไกด์</p>
                                                    </label>
                                                </button>
                                            </div>
                                            </div>
                                            <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[1]</sup>
                                                ลาวเก็บค่าวีซ่าเพิ่มในบางสัญชาตินะคะ
                                                (ส่วนคนไทยฟรีค่ะ) </p>
                                            <p class="text-right color-theme font-10 mb-n3 mt-2 opacity-70"><sup>[2]</sup> ที่พัก 3 ดาว นอน 2
                                                ท่าน/ห้อง พักเดี่ยวเพิ่ม ${String(p4[0].hotel * 1000).replace(/(.)(?=(\d{3})+$)/g, '$1,')} บาท </p>
                                        <div class="divider mt-4 mb-n1"></div>
                                        <div class="d-flex mt-2 text-center">
                                            <div class="ml-3 mr-1 mt-2 mb-n1" id="discount">
                                                <p class="color-magenta-dark font-12 font-700"><i class="fas fa-gift font-18"></i> &nbsp; พิเศษ! คูปอง&nbsp;
                                                        ${p4[0].promotion} 
                                                    <span>&nbsp;&nbsp;
                                                        <button href="#" onclick="collectCoupon('${p4[0].sku}');return false;" data-menu="select-date"
                                                                class="btn btn-border font-19 font-500 shadow-xl rounded-xs border-grey-dark bg-magenta-dark scale-box"> 
                                                                เก็บคูปอง ${String(p4[0].discount).replace(/(.)(?=(\d{3})+$)/g, '$1,')}.- (คลิก) <sup><i class="fas fa-ticket-alt"></i></sup>
                                                        </button>    
                                                    </span>
                                                </p> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                `;
                            break;
                        }
                        case 0: {  // yet to add this template
                            console.log("ยังไม่มีราคาสำหรับแพคเกจนี้");
                            break;
                        }
                        default: { // yet to add this template
                            alert("ขออภัย ไม่พบข้อมูลที่ค้นหา");
                            break;
                        }
                    }
                })
                .catch(e => {
                    // yet to add this template
                    console.log(`ขออภัย!! ระบบไม่สามารถเข้าถึงข้อมูลได้ในตอนนี้ค่ะ error: ${e.message}`);
                });
        </script>
        <!-- Fetch: end -->



        <!------------------>
        <!------------------>
        <!--modal : หลังกดปุ่ม จอง -->
        <!------------------>
        <!------------------>

        <div id="select-booking" class="menu menu-box-modal rounded-m bg-theme" data-menu-width="350"
            data-menu-height="560">
            <div class="menu-title mb-n1 mt-n1">
                <a href="#" class="close-menu mt-n5 mr-n1"><i class="fa fa-times-circle"></i></a>
                <h2 class="ml-3 mt-4 mb-n2 font-400 color-highlight">เลือกวันที่ต้องการเดินทางได้ค่ะ &nbsp;<i
                        class="font-20 far fa-calendar-alt"></i></h2>
                <p class="font-13 font-300 color-theme opacity-70"> (หากไม่แน่ใจ ระบุคร่าวๆ แล้วยืนยันภายหลังได้นะคะ)
                </p>
            </div>
            <div class="content mt-0 flex-container-column">
                <div>
                    <div id="datepicker" class="calendar font-20"></div>
                </div>
                <div style="height: 400px;"></div>
                <div class="content mt-4" style="align-items: flex-end;">
                    <a href="#" onclick="createQuotation();return false;"
                        class="btn btn-full gradient-blue font-20 btn-s font-400 mt-1 rounded-xs">ตกลง</a>
                </div>
            </div>
        </div>




        <!------------------>
        <!------------------>
        <!--modal : หลังกดปุ่ม คูปอง -->
        <!------------------>
        <!------------------>



        <!-- Main Menu-->
        <div id="menu-main" class="menu menu-box-left rounded-0" data-menu-load="menu-main.html" data-menu-width="280"
            data-menu-active="nav-pages"></div>

        <!-- Share Menu-->
        <div id="menu-share" class="menu menu-box-bottom rounded-m" data-menu-load="menu-share.html"
            data-menu-height="370"></div>

        <!-- Colors Menu-->
        <div id="menu-colors" class="menu menu-box-bottom rounded-m" data-menu-load="menu-colors.html"
            data-menu-height="480"></div>
    </div>

    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="scripts/custom.js"></script>
    <script type="text/javascript" src="scripts/1.12.1-jquery-ui.min.js"></script>


    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
    <!-- <script type="text/javascript" src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script> -->

    <!-- <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script> -->

    <script>


    </script>

</body>